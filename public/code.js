"use strict";var e;!function(e){e.simple="simple",e.fixed="fixed",e.relative="relative"}(e||(e={}));const t={c:5,p1:8,p2:32,r1:.059,r2:.332,mode:e.simple};function i(e){const t=e=>({r1:.1765*e,r2:e});switch(Number(e)){case 1:return t(.0375);case 2:return t(.075);case 3:return t(.15);case 4:return t(.2984);case 5:return t(.332);case 6:return t(.3656);case 7:return t(.3992);case 8:return t(.4328);case 9:return t(.4664);case 10:return t(.5);default:return t(.332)}}function a(a){return`<path id="Squircle" fill="#C4C4C4" d="${function(a=t){const{width:n=100,height:r=100,r1:g,r2:u,p1:c,p2:l,c:s,mode:o}=a,m=o===e.simple,d=o===e.fixed,p=Math.min(n,r),$=d?c:g*p,P=d?l:u*p,h=m?i(s).r1*p:Math.min($,P),f=m?i(s).r2*p:P;return`\n    M 0, ${f}\n    C 0, ${h} ${h}, 0 ${f}, 0\n    L ${n-f}, 0\n    C ${n-h}, 0 ${n}, ${h} ${n}, ${f}\n    L ${n}, ${r-f}\n    C ${n}, ${r-h} ${n-h}, ${r} ${n-f}, ${r}\n    L ${f}, ${r}\n    C ${h}, ${r} 0, ${r-h} 0, ${r-f}\n    L 0, ${f}\n  `}(a)}" />`}const n=e=>e.getPluginData("c"),r=e=>{const t=e.getPluginData("mode"),i=e.getPluginData("c"),a=e.getPluginData("p1"),n=e.getPluginData("p2"),r=e.getPluginData("r1"),g=e.getPluginData("r2"),{id:u,width:c,height:l}=e;return{id:u,width:c,height:l,mode:t,c:i,p1:a,p2:n,r1:r,r2:g}};function g(e,t){var i,n,r,g,u,c;t.mode&&e.setPluginData("mode",`${t.mode}`),t.c&&e.setPluginData("c",`${t.c}`),t.p1&&e.setPluginData("p1",`${t.p1}`),t.p2&&e.setPluginData("p2",`${t.p2}`),t.r1&&e.setPluginData("r1",`${t.r1}`),t.r2&&e.setPluginData("r2",`${t.r2}`);const{width:l,height:s}=e,o=a({width:l,height:s,mode:null!==(i=t.mode)&&void 0!==i?i:e.getPluginData("mode"),c:null!==(n=t.c)&&void 0!==n?n:e.getPluginData("c"),p1:null!==(r=t.p1)&&void 0!==r?r:e.getPluginData("p1"),p2:null!==(g=t.p2)&&void 0!==g?g:e.getPluginData("p2"),r1:null!==(u=t.r1)&&void 0!==u?u:e.getPluginData("r1"),r2:null!==(c=t.r2)&&void 0!==c?c:e.getPluginData("r2")}),m=figma.createNodeFromSvg(o);e.vectorPaths=m.vectorPaths,m.remove()}figma.currentPage.selection=figma.currentPage.selection.filter(n),figma.currentPage.selection.length||function(e=t){const i=[],n=a(e),r=figma.createNodeFromSvg(n);r.setPluginData("mode",`${e.mode}`),r.setPluginData("c",`${e.c}`),r.setPluginData("p1",`${e.p1}`),r.setPluginData("p2",`${e.p2}`),r.setPluginData("r1",`${e.r1}`),r.setPluginData("r2",`${e.r2}`),i.push(r),figma.currentPage.appendChild(r),figma.currentPage.selection=i,figma.viewport.scrollAndZoomIntoView(i)}(),figma.showUI(__html__,{width:232,height:125}),figma.ui.postMessage({type:"init",nodes:figma.currentPage.selection.filter(n).map(r)}),figma.on("selectionchange",(()=>{figma.ui.postMessage({type:"selectionchange",nodes:figma.currentPage.selection.filter(n).map(r)})})),figma.ui.onmessage=e=>{switch(e.type){case"update-squircle":return void figma.currentPage.selection.filter(n).map((t=>{g(t,e)}));case"resize":return void figma.currentPage.selection.filter(n).map((t=>{t.resize(e.width,e.height),g(t,e)}));default:return}};
